package com.anastasiaiva.pelmenisegodnya.repository

import android.content.SharedPreferences
import androidx.core.content.edit

class KerilRepository (private val preferences: SharedPreferences) {
    private val phrases = listOf(
        "–ü—Å–∏–Ω–∞ —Å—É—Ç—É–ª–∞—è üòê",
        "–ü–æ–¥–∑–∞–ª—É–ø–Ω—ã–π —Ç–≤–æ—Ä–æ–∂–æ–∫ üî•",
        "–ì–æ–≤—ë—à–∫–∞ –Ω–∞ –ª–∞–¥–æ—à–∫–µ üí©",
        "–ß–µ–ø—É—à–∏–ª–∞ –æ—á—ë—Ä—Å–∫–∞—è \uD83D\uDE0F",
        "–ü–µ—Ç—É—à–∞—Ä–∞ –≤—à–∏–≤–∞—è \uD83D\uDC14",
        "–ì–Ω–∏–¥—ã—á –ª–æ—Ö–º–∞—Ç—ã–π \uD83E\uDEE1",
        "–°–æ–ø–ª—è —Å—É—Ö–∞—è \uD83E\uDD0C",
        "–ú–∏–∫—Ä–æ–ø–µ–Ω–∏—Å \uD83E\uDD0F",
        "–ò—É–¥–∞ —á—É–º–Ω–∞—è \uD83E\uDD73",
        "–ß–µ—Ä—Ç –∫–æ—Å–º–∞—Ç—ã–π \uD83E\uDD28",
        "–õ–∏—Å–∏—á–∫–∞ —Ç—Ä—É—Å–æ–≤–∞—è",
        "–î–∞–¥—Ä–∏–∫ –≤–æ–ª–æ—Å–∞—Ç—ã–π",
        "–ö–æ–Ω–∏–Ω–∞ –∂–Å–≤–∞–Ω–∞—è",
        "–ü–∏—Å—å–∫–∏–Ω–∞ –ø–∞–ø–∏–ª–ª–æ–º–∞",
        "–§–∏–ª–∏–ø–ø –ö–∏—Ä–∫–æ—Ä–æ–≤!",
        "–õ–∞—Ä–∏—Å–∞ –î–æ–ª–∏–Ω–∞ –±–µ–∑ —Ö–∞—Ç—ã",
        "–í–æ–Ω—é—á–∞—è –±–∞–±–∫–∏–Ω–∞ –ø—è—Ç–∫–∞",
        "–ú–∞–º–∏–Ω–∞ —Ä–∞–¥–æ—Å—Ç—å, –ø–∞–ø–∏–Ω–∞ —Å–ª–∞–¥–æ—Å—Ç—å",
        "–ú–∞–º–∏–Ω –±—Ä–æ–¥—è–≥–∞, –ø–∞–ø–∏–Ω —Å–∏–º–ø–∞—Ç—è–≥–∞",
        "–ì–æ—Ä–¥–æ—Å—Ç—å –≤—Å–µ—Ö –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –±–æ–º–∂–µ–π",
        "–ö–æ—Ä–æ–≤—å—è –ª–µ–ø—ë—à–∫–∞",
        "–í–∏—Å—è—á–∞—è –±–∞–±–∫–∏–Ω–∞ —Å–∏—Å—å–∫–∞",
        "–§–µ—Ä–µ—Ä—Ä–æ —Ä–æ—à–µ –≤ —Å–æ—á–∏ –≤ –ª–∞–≤–∞—à–µ"
    )

    val endingPhrases = listOf(
        "–° –∫–∞–∂–¥—ã–º –º–æ–∂–µ—Ç —Å–ª—É—á–∏—Ç—å—Å—è...",
        "–ù—É –Ω–∏—á–µ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ. –¢—è—É-—Ç—è—É-—Ç—è—É-—Ç—è—É",
        "–¢—É—Ç –¥–∞–∂–µ –∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—á–µ–≥–æ!",
        "–Ø –≤—Å–µ–≥–¥–∞ –ø–æ–¥–æ–∑—Ä–µ–≤–∞–ª –≤ —Ç–µ–±–µ —á—Ç–æ-—Ç–æ —Ç–∞–∫–æ–µ...",
        "–ù–µ, –Ω—É –ø–æ —Ñ–∞–∫—Ç—É!",
        "–ù–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π, –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –±—É–¥–µ—à—å –∫–µ–º-—Ç–æ –¥—Ä—É–≥–∏–º",
        "–ù–∞–¥–µ—é—Å—å, —Ç—ã –≤ –≤–æ—Å—Ö–∏—â–µ–Ω–∏–∏!",
        "–ü–æ-–º–æ–µ–º—É –ø–æ—Ö–æ–∂–æ",
        "–ù–∏—á–µ–≥–æ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ–≥–æ, –∑–Ω–∞–µ—à—å –ª–∏...",
        "–ù—É —à—Ç–æ—à...",
        "–í —ç—Ç–æ—Ç —Ä–∞–∑ –∫–∞–∫-—Ç–æ –ø–æ–ª—É—á—à–µ, –¥–∞?..",
        "–ù—É —à–æ, –Ω—Ä–∞–∏—Ü–∞?))",
        "–Ø –≤ –≤–æ—Å—Ö–∏—â–µ–Ω–∏–∏!",
        "–≠—Ç–æ –∞–ø–æ–≥–µ–π –º–æ–µ–≥–æ –∫—Ä–µ–∞—Ç–∏–≤–∞...",
        "–¢–∞–∫ —Å–µ, –∫–æ–Ω–µ—á–Ω–æ...",
        "–†–∞–∑ –Ω–µ –≤—ã—à–ª–æ, —Ç–∞–∫ —á–µ–≥–æ —É–∂!",
        "–ì–ª–∞–≤–Ω–æ–µ, —á—Ç–æ –Ω–µ –º–∞–º–æ—á–∫–∞ –¥–≤—É—Ö –∞–Ω–≥–µ–ª–æ—á–∫–æ–≤!"
    )

    private companion object {
        private const val KEY_LAST_RESULT_TIMESTAMP = "last_result_timestamp"
    }


    fun getRandomPhrase(): String {
        return phrases.random()
    }

    fun getRandomEndingPhrase(): String {
        return endingPhrases.random()
    }

fun saveLastTimestamp(timestamp: Long) {
    preferences.edit {
        putLong(KEY_LAST_RESULT_TIMESTAMP, timestamp)
    }
}

    fun getLastTimestamp(): Long? {
        return if (preferences.contains(KEY_LAST_RESULT_TIMESTAMP)) {
            preferences.getLong(KEY_LAST_RESULT_TIMESTAMP, 0L)
        } else {
            null
        }
    }
}
